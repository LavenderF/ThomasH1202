<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joyeux Anniversaire Thomas | Échecs & Sagesse</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #e0f7fa, #b2ebf2, #ffccbc, #d1c4e9);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #006064;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px dashed #ff5722;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 3.5em;
            margin: 0;
            background: linear-gradient(90deg, #ff5722, #ff9800, #8bc34a, #00bcd4, #9c27b0);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(0,0,0,0.1);
            animation: rainbow 5s linear infinite;
        }
        
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        .subtitle {
            font-style: italic;
            color: #e91e63;
            margin-top: 10px;
            font-size: 1.2em;
        }
        
        .chess-board {
            width: 400px;
            height: 400px;
            margin: 30px auto;
            border: 15px solid #ff9800;
            border-radius: 10px;
            position: relative;
            box-shadow: 0 0 30px rgba(255, 152, 0, 0.4);
            background-color: #fff3e0;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .chess-board:hover {
            transform: rotate(2deg) scale(1.02);
        }
        
        .chess-square {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            user-select: none;
            transition: all 0.3s;
            position: relative;
        }
        
        .chess-square:hover {
            background-color: rgba(255, 152, 0, 0.3) !important;
        }
        
        .dark {
            background-color: #ffcc80;
        }
        
        .light {
            background-color: #fff3e0;
        }
        
        .birthday-message {
            text-align: center;
            margin: 40px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            border-left: 5px solid #e91e63;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .language-toggle {
            text-align: center;
            margin: 20px 0;
        }
        
        .language-toggle button {
            background: none;
            border: 2px solid #00bcd4;
            color: #006064;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        .language-toggle button:hover {
            background: rgba(0, 188, 212, 0.2);
            transform: translateY(-3px);
        }
        
        .language-toggle button.active {
            background: #00bcd4;
            border-color: #00bcd4;
            color: white;
        }
        
        .interests-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin: 40px 0;
        }
        
        .interest-card {
            width: 30%;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-top: 5px solid;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .interest-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .interest-card:nth-child(1) {
            border-color: #ff5722;
        }
        
        .interest-card:nth-child(2) {
            border-color: #9c27b0;
        }
        
        .interest-card:nth-child(3) {
            border-color: #00bcd4;
        }
        
        .interest-card h3 {
            color: #006064;
            border-bottom: 2px dashed;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .interest-card:nth-child(1) h3 {
            border-color: #ff5722;
        }
        
        .interest-card:nth-child(2) h3 {
            border-color: #9c27b0;
        }
        
        .interest-card:nth-child(3) h3 {
            border-color: #00bcd4;
        }
        
        .hidden {
            display: none;
        }
        
        #fireworks-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        
        .music-player {
            text-align: center;
            margin: 30px 0;
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #8bc34a;
        }
        
        .music-player iframe {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            border: none;
        }
        
        .french-wisdom {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(178, 223, 219, 0.8);
            border-radius: 15px;
            font-style: italic;
            border-right: 5px solid #9c27b0;
        }
        
        .french-wisdom p {
            font-size: 1.2em;
            margin: 10px 0;
        }
        
        .tommy-awesome {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-top: 5px solid #e91e63;
        }
        
        .tommy-awesome iframe {
            width: 100%;
            height: 500px;
            border: none;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        .tommy-awesome-btn {
            display: inline-block;
            background: #e91e63;
            color: white;
            padding: 12px 24px;
            margin-top: 15px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        .tommy-awesome-btn:hover {
            background: #c2185b;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 2px dashed #ff5722;
            font-size: 0.9em;
            color: #e91e63;
        }
        
        /* Special square effects */
        .chess-square.special-effect {
            position: relative;
            overflow: hidden;
        }
        
        .chess-square.special-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .chess-square.special-effect:hover::after {
            opacity: 0.3;
        }
        
        /* Different square effects */
        .a1::after { background: radial-gradient(circle, red, transparent); }
        .b2::after { background: conic-gradient(red, yellow, lime, aqua, blue, magenta, red); }
        .c3::after { background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000); }
        .d4::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M20,50 Q50,20 80,50 Q50,80 20,50 Z" fill="%23ff5722"/></svg>'); }
        .e5::after { background: repeating-linear-gradient(45deg, #ff5722, #ff5722 10px, #ff9800 10px, #ff9800 20px); }
        .f6::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" stroke="%2300bcd4" stroke-width="3" fill="none"/></svg>'); }
        .g7::after { background: linear-gradient(135deg, rgba(255,87,34,0.5), rgba(156,39,176,0.5)); }
        .h8::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon points="50,10 90,90 10,90" fill="%238bc34a"/></svg>'); }
        .a8::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="20" width="60" height="60" fill="%23e91e63"/></svg>'); }
        .b7::after { background: repeating-radial-gradient(circle, #9c27b0, #9c27b0 10px, #673ab7 10px, #673ab7 20px); }
        .c6::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M10,50 L90,50 M50,10 L50,90" stroke="%2300bcd4" stroke-width="5"/></svg>'); }
        .d5::after { background: linear-gradient(0deg, #ff5722, #ff9800, #ffeb3b, #8bc34a, #00bcd4, #9c27b0); }
        .e4::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M20,20 L80,80 M80,20 L20,80" stroke="%23ff5722" stroke-width="5"/></svg>'); }
        .f3::after { background: conic-gradient(from 90deg, #ff5722, #ff9800, #ffeb3b, #8bc34a, #00bcd4, #9c27b0, #ff5722); }
        .g2::after { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%23ffeb3b"/></svg>'); }
        .h1::after { background: repeating-linear-gradient(90deg, #00bcd4, #00bcd4 10px, #b2ebf2 10px, #b2ebf2 20px); }
        
        /* Animations */
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes flip {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(360deg); }
        }
        
        /* Special square animations */
        .a1:hover { animation: pulse 0.5s infinite; }
        .b2:hover { animation: rotate 2s linear infinite; }
        .c3:hover { filter: hue-rotate(360deg); transition: filter 1s linear; }
        .d4:hover { transform: skew(-10deg, -10deg); }
        .e5:hover { box-shadow: 0 0 20px #ff5722; }
        .f6:hover { border-radius: 50%; }
        .g7:hover { transform: perspective(500px) rotateX(20deg); }
        .h8:hover { animation: bounce 0.5s infinite; }
        .a8:hover { animation: shake 0.3s infinite; }
        .b7:hover { transform: scale(1.2); }
        .c6:hover { animation: flip 1s linear infinite; }
        .d5:hover { background-size: 200% 200%; animation: gradientBG 3s ease infinite; }
        .e4:hover { transform: rotate(45deg); }
        .f3:hover { opacity: 0.7; }
        .g2:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .h1:hover { transform: scale(0.9); }
        
        @media (max-width: 768px) {
            .chess-board {
                width: 300px;
                height: 300px;
            }
            
            .interest-card {
                width: 100%;
            }
            
            h1 {
                font-size: 2.5em;
            }
            
            .music-player iframe {
                height: 150px;
            }
            
            .tommy-awesome iframe {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <canvas id="fireworks-canvas"></canvas>
    
    <div class="container">
        <header>
            <h1>Joyeux Anniversaire Thomas!</h1>
            <div class="subtitle">2 Décembre - Célébration des Échecs et de la Sagesse</div>
        </header>
        
        <div class="chess-board" id="chess-board">
            <!-- Chess board will be generated by JavaScript -->
        </div>
        
        <div class="language-toggle">
            <button id="french-btn" class="active">Français</button>
            <button id="english-btn">English</button>
        </div>
        
        <div class="birthday-message">
            <div id="french-message">
                <h2>À un Ami Exceptionnel</h2>
                <p>En ce jour spécial, je te souhaite des victoires sans fin sur l'échiquier, des voyages inspirants à travers la littérature et la réalisation de tous tes rêves.</p>
                <p>Puisse ton année être aussi grandiose que l'envergure d'un A380, aussi profonde que les romans de Dumas et aussi électrisante que les beats d'Avicii.</p>
                <p>Joyeux Anniversaire!</p>
            </div>
            <div id="english-message" class="hidden">
                <h2>To an Exceptional Friend</h2>
                <p>On this special day, I wish you endless victories on the chessboard, inspiring journeys through literature, and the realization of all your dreams.</p>
                <p>May your year be as grand as an A380's wingspan, as profound as Dumas' novels, and as electrifying as Avicii's beats.</p>
                <p>Happy Birthday!</p>
            </div>
        </div>
        
        <div class="french-wisdom">
            <h3>La Sagesse de Thomas</h3>
            <p>"Ce qui est fait est fait"</p>
            <p>"Toute la sagesse humaine sera dans ces deux mots: Attendre et Espérer"</p>
            <p>- Alexandre Dumas, Le Comte de Monte-Cristo</p>
        </div>
        
        <div class="music-player">
            <h3>Avicii - Levels</h3>
            <iframe 
                src="https://www.youtube.com/embed/C3Ti0nZjtp8" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
            </iframe>
        </div>
        
        <div class="interests-section">
            <div class="interest-card">
                <h3>Coin des Échecs</h3>
                <p>"Les échecs sont une mer où un moustique peut boire et un éléphant peut se baigner." - Proverbe indien</p>
                <p>Découvrez les effets spéciaux sur chaque case du plateau!</p>
            </div>
            
            <div class="interest-card">
                <h3>Œuvres Littéraires Préférées</h3>
                <p>"Un pour tous, tous pour un!" - Alexandre Dumas, Les Trois Mousquetaires</p>
                <p>"La guerre c'est la paix. La liberté c'est l'esclavage. L'ignorance c'est la force." - George Orwell, 1984</p>
            </div>
            
            <div class="interest-card">
                <h3>Tommy Awesome</h3>
                <p>Découvrez le site interactif créé spécialement pour Thomas!</p>
                <p>Un espace rempli de surprises et de créativité.</p>
            </div>
        </div>
        
        <div class="tommy-awesome">
            <h3>Explorez Tommy Awesome</h3>
            <p>Découvrez ce site interactif spécialement créé pour Thomas, rempli de surprises et de créativité!</p>
            <iframe src="https://lavenderf.github.io/tommyawesome/" title="Tommy Awesome Interactive Site"></iframe>
            <a href="https://lavenderf.github.io/tommyawesome/" class="tommy-awesome-btn" target="_blank">Visiter le Site Complet</a>
        </div>
        
        <div id="birthday-surprise" class="hidden">
            <h2 style="text-align: center;">🎉 Joyeux Anniversaire Thomas! 🎉</h2>
            <p style="text-align: center;" id="surprise-message">Tu as trouvé un secret! Profite de cette journée spéciale avec ces magnifiques feux d'artifice!</p>
        </div>
    </div>
    
    <footer>
        <p>Créé avec ♥ pour l'anniversaire de Thomas | 2 Décembre</p>
    </footer>
    
    <script>
        // Chess board generation with Easter eggs
        const chessBoard = document.getElementById('chess-board');
        const files = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];
        const pieces = [
            '♜', '♞', '♝', '♛', '♚', '♝', '♞', '♜',
            '♟', '♟', '♟', '♟', '♟', '♟', '♟', '♟',
            '', '', '', '', '', '', '', '',
            '', '', '', '', '', '', '', '',
            '', '', '', '', '', '', '', '',
            '', '', '', '', '', '', '', '',
            '♙', '♙', '♙', '♙', '♙', '♙', '♙', '♙',
            '♖', '♘', '♗', '♕', '♔', '♗', '♘', '♖'
        ];
        
        // Special effects for each square
        const squareEffects = {
            'a1': { 
                name: "Effet Pulsation", 
                desc: "Le carré pulse comme un cœur qui bat",
                color: "#ff5722"
            },
            'b2': { 
                name: "Effet Rotation", 
                desc: "Le carré tourne comme une toupie",
                color: "#9c27b0"
            },
            'c3': { 
                name: "Arc-en-Ciel", 
                desc: "Couleurs changeantes comme un arc-en-ciel",
                color: "#00bcd4"
            },
            'd4': { 
                name: "Effet Inclinaison", 
                desc: "Le carré se penche comme s'il allait tomber",
                color: "#8bc34a"
            },
            'e5': { 
                name: "Effet Lumineux", 
                desc: "Le carré brille comme une étoile",
                color: "#ff9800"
            },
            'f6': { 
                name: "Effet Circulaire", 
                desc: "Le carré devient rond comme la lune",
                color: "#e91e63"
            },
            'g7': { 
                name: "Effet 3D", 
                desc: "Le carré prend de la profondeur",
                color: "#673ab7"
            },
            'h8': { 
                name: "Effet Rebond", 
                desc: "Le carré saute de joie",
                color: "#ffeb3b"
            },
            'a8': { 
                name: "Effet Tremblement", 
                desc: "Le carré tremble d'excitation",
                color: "#f44336"
            },
            'b7': { 
                name: "Effet Agrandissement", 
                desc: "Le carré grossit comme un ballon",
                color: "#3f51b5"
            },
            'c6': { 
                name: "Effet Retournement", 
                desc: "Le carré se retourne comme une crêpe",
                color: "#009688"
            },
            'd5': { 
                name: "Dégradé Animé", 
                desc: "Couleurs qui coulent comme une rivière",
                color: "#4caf50"
            },
            'e4': { 
                name: "Effet Rotation 45°", 
                desc: "Le carré tourne comme une étoile",
                color: "#ff5722"
            },
            'f3': { 
                name: "Effet Transparence", 
                desc: "Le carré devient presque invisible",
                color: "#795548"
            },
            'g2': { 
                name: "Effet Lévitation", 
                desc: "Le carré s'élève comme un ballon",
                color: "#607d8b"
            },
            'h1': { 
                name: "Effet Rétrécissement", 
                desc: "Le carré rétrécit comme si on l'aspirait",
                color: "#9e9e9e"
            }
        };

        // Create chess board with special effects
        for (let i = 0; i < 64; i++) {
            const square = document.createElement('div');
            const row = 8 - Math.floor(i / 8);
            const col = files[i % 8];
            const squareId = `${col}${row}`;
            
            square.className = `chess-square ${(Math.floor(i / 8) + i) % 2 === 0 ? 'light' : 'dark'}`;
            square.id = squareId;
            square.textContent = pieces[i];
            
            // Add special effects to designated squares
            if (squareEffects[squareId]) {
                square.classList.add('special-effect');
                square.title = `${squareEffects[squareId].name} - Cliquez pour voir la surprise!`;
                
                // Add click event for each special square
                square.addEventListener('click', function() {
                    launchFireworks();
                    showBirthdaySurprise(squareId);
                });
            }
            
            chessBoard.appendChild(square);
        }

        // Show customized birthday surprise
        function showBirthdaySurprise(squareId) {
            const effect = squareEffects[squareId];
            const surprise = document.getElementById('birthday-surprise');
            const message = document.getElementById('surprise-message');
            
            surprise.style.background = `linear-gradient(135deg, ${effect.color}, #ffffff)`;
            surprise.style.border = `5px solid ${effect.color}`;
            
            message.innerHTML = `
                <strong>${effect.name}:</strong> ${effect.desc}<br><br>
                ${getRandomBirthdayMessage()}
            `;
            
            surprise.classList.remove('hidden');
            surprise.scrollIntoView({ behavior: 'smooth' });
        }

        // Random birthday messages in different languages
        function getRandomBirthdayMessage() {
            const messages = [
                "Joyeux Anniversaire! Que cette année soit remplie de bonheur et de succès!",
                "Happy Birthday! May this year bring you endless joy and achievements!",
                "生日快乐！愿你在新的一岁里棋艺精进，心想事成！",
                "Alles Gute zum Geburtstag! Möge das Schachglück immer mit dir sein!",
                "Buon Compleanno! Che tu possa realizzare tutti i tuoi sogni!",
                "С Днем Рождения! Пусть этот год принесет тебе много побед!",
                "생일 축하합니다! 새로운 한 해가 행복과 성공으로 가득하길!",
                "Feliz Cumpleaños! Que este año esté lleno de alegría y logros!"
            ];
            return messages[Math.floor(Math.random() * messages.length)];
        }
        
        // Language toggle
        document.getElementById('english-btn').addEventListener('click', function() {
            document.getElementById('english-message').classList.remove('hidden');
            document.getElementById('french-message').classList.add('hidden');
            this.classList.add('active');
            document.getElementById('french-btn').classList.remove('active');
        });
        
        document.getElementById('french-btn').addEventListener('click', function() {
            document.getElementById('english-message').classList.add('hidden');
            document.getElementById('french-message').classList.remove('hidden');
            this.classList.add('active');
            document.getElementById('english-btn').classList.remove('active');
        });
        
        // Fireworks effect
        function launchFireworks() {
            const canvas = document.getElementById('fireworks-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            let particles = [];
            const particleCount = 200;
            const colors = [
                '#FF5252', '#FF4081', '#E040FB', '#7C4DFF', 
                '#536DFE', '#448AFF', '#40C4FF', '#18FFFF', 
                '#64FFDA', '#69F0AE', '#B2FF59', '#EEFF41', 
                '#FFFF00', '#FFD740', '#FFAB40', '#FF6E40'
            ];
            
            function createFirework(x, y, colorIndex = null) {
                const fireworkColor = colorIndex !== null ? colors[colorIndex] : colors[Math.floor(Math.random() * colors.length)];
                const types = ['circle', 'star', 'heart'];
                const type = types[Math.floor(Math.random() * types.length)];
                
                for (let i = 0; i < particleCount; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const speed = Math.random() * 7 + 3;
                    const radius = Math.random() * 4 + 2;
                    const lifetime = Math.random() * 150 + 150;
                    const rotationSpeed = Math.random() * 0.2 - 0.1;
                    const rotation = Math.random() * Math.PI * 2;
                    
                    particles.push({
                        x: x,
                        y: y,
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed,
                        radius: radius,
                        color: fireworkColor,
                        lifetime: lifetime,
                        alpha: 1,
                        decay: Math.random() * 0.015 + 0.005,
                        type: type,
                        rotation: rotation,
                        rotationSpeed: rotationSpeed,
                        size: radius
                    });
                }
            }
            
            function drawParticle(p) {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.rotation);
                ctx.globalAlpha = p.alpha;
                
                switch(p.type) {
                    case 'star':
                        ctx.fillStyle = p.color;
                        ctx.beginPath();
                        for (let i = 0; i < 5; i++) {
                            ctx.lineTo(0, p.size);
                            ctx.lineTo(0, p.size/2);
                            ctx.rotate(Math.PI * 2 / 5);
                            ctx.lineTo(0, -p.size/2);
                            ctx.lineTo(0, -p.size);
                            ctx.rotate(Math.PI * 2 / 5);
                        }
                        ctx.fill();
                        break;
                        
                    case 'heart':
                        ctx.fillStyle = p.color;
                        ctx.beginPath();
                        const topCurveHeight = p.size * 0.3;
                        ctx.moveTo(0, p.size/4);
                        ctx.bezierCurveTo(
                            0, p.size/4 - topCurveHeight,
                            -p.size, p.size/4 - topCurveHeight,
                            -p.size, p.size/4
                        );
                        ctx.bezierCurveTo(
                            -p.size, p.size/2,
                            0, p.size,
                            0, p.size * 1.3
                        );
                        ctx.bezierCurveTo(
                            0, p.size,
                            p.size, p.size/2,
                            p.size, p.size/4
                        );
                        ctx.bezierCurveTo(
                            p.size, p.size/4 - topCurveHeight,
                            0, p.size/4 - topCurveHeight,
                            0, p.size/4
                        );
                        ctx.fill();
                        break;
                        
                    default:
                        ctx.fillStyle = p.color;
                        ctx.beginPath();
                        ctx.arc(0, 0, p.size, 0, Math.PI * 2);
                        ctx.fill();
                }
                
                ctx.restore();
            }
            
            // Initial fireworks
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createFirework(
                        Math.random() * canvas.width,
                        Math.random() * canvas.height / 2,
                        i % colors.length
                    );
                }, i * 300);
            }
            
            function animate() {
                requestAnimationFrame(animate);
                ctx.fillStyle = 'rgba(224, 247, 250, 0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                for (let i = 0; i < particles.length; i++) {
                    const p = particles[i];
                    
                    drawParticle(p);
                    
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += 0.05;
                    p.lifetime--;
                    p.alpha -= p.decay;
                    p.rotation += p.rotationSpeed;
                    p.size = p.radius * Math.min(1, p.lifetime / 100);
                    
                    if (p.lifetime <= 0 || p.alpha <= 0) {
                        particles.splice(i, 1);
                        i--;
                    }
                }
                
                if (Math.random() < 0.05 && particles.length < 2000) {
                    createFirework(
                        Math.random() * canvas.width,
                        Math.random() * canvas.height / 2
                    );
                }
            }
            
            animate();
            
            canvas.style.pointerEvents = 'auto';
            canvas.addEventListener('click', function(e) {
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        createFirework(e.clientX, e.clientY);
                    }, i * 200);
                }
            });
        }
        
        // Check if it's December 2nd
        const today = new Date();
        if (today.getMonth() === 11 && today.getDate() === 2) {
            launchFireworks();
            document.getElementById('birthday-surprise').classList.remove('hidden');
        }
        
        // Small fireworks on page load
        window.addEventListener('load', function() {
            setTimeout(() => {
                const canvas = document.getElementById('fireworks-canvas');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const ctx = canvas.getContext('2d');
                        const x = canvas.width / 2;
                        const y = canvas.height / 2;
                        
                        ctx.fillStyle = `hsl(${Math.random() * 360}, 100%, 50%)`;
                        for (let j = 0; j < 50; j++) {
                            const angle = Math.random() * Math.PI * 2;
                            const distance = Math.random() * 50;
                            ctx.globalAlpha = Math.random();
                            ctx.fillRect(
                                x + Math.cos(angle) * distance,
                                y + Math.sin(angle) * distance,
                                3, 3
                            );
                        }
                    }, i * 500);
                }
            }, 1000);
        });
    </script>
</body>
</html>
