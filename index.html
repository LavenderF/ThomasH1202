<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Thomas 黄钧正 | Joyeux Anniversaire</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');
    html, body {
      margin: 0; padding: 0; height: 100%;
      background: #0a0a0f;
      color: #a0e8ff;
      font-family: 'Orbitron', monospace, monospace;
      overflow-x: hidden;
      user-select: none;
    }
    body {
      background:
        linear-gradient(90deg, #00101f 0%, #00101f 50%, #000a0d 100%);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px 15px 150px;
      min-height: 100vh;
      position: relative;
    }
    #fireworks {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 0;
      mix-blend-mode: screen;
    }
    .container {
      max-width: 900px;
      width: 100%;
      position: relative;
      z-index: 1;
      text-align: center;
    }
    h1 {
      font-size: 3em;
      margin-bottom: 0.3em;
      letter-spacing: 2px;
      text-shadow: 0 0 6px #0ff, 0 0 12px #0ff;
      user-select: text;
    }
    h1 span {
      margin-left: 10px;
      font-size: 1.1em;
      vertical-align: middle;
    }
    .lang-buttons button {
      background: transparent;
      border: 1px solid #0ff;
      color: #0ff;
      padding: 6px 14px;
      margin: 0 8px;
      font-size: 1.1em;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    .lang-buttons button[aria-pressed="true"],
    .lang-buttons button:hover {
      background-color: #0ff;
      color: #001011;
    }
    #countdown {
      font-size: 1.4em;
      margin: 0.8em 0 1.5em;
      letter-spacing: 1px;
      text-shadow: 0 0 8px #0ffaaaff;
      user-select: text;
    }
    #message {
      font-size: 1.3em;
      line-height: 1.5em;
      max-width: 700px;
      margin: 0 auto 50px;
      min-height: 70px;
      white-space: pre-line;
      text-shadow:
        0 0 5px #0ff,
        0 0 10px #0ff,
        0 0 20px #0ff80;
      user-select: text;
    }
    /* 反乌托邦名言打字机效果 */
    #quote {
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.5em;
      max-width: 700px;
      margin: 1em auto 50px;
      color: #ff6f61;
      border-left: 3px solid #ff6f61;
      padding-left: 15px;
      white-space: pre-wrap;
      min-height: 90px;
      letter-spacing: 0.1em;
      text-shadow: 0 0 10px #ff6f61;
      user-select: text;
    }

    /* 小游戏区域 */
    #quiz {
      background: #00111a99;
      border-radius: 14px;
      padding: 24px 30px;
      color: #a0e8ff;
      box-shadow: 0 0 16px #0ff;
      max-width: 700px;
      margin: auto;
      text-align: left;
      user-select: none;
    }
    #quiz h2 {
      text-align: center;
      color: #0ff;
      margin-bottom: 14px;
      font-size: 1.9em;
      text-shadow: 0 0 8px #0ff;
    }
    .question {
      font-size: 1.2em;
      margin-bottom: 14px;
    }
    .options {
      list-style: none;
      padding: 0;
    }
    .options li {
      margin-bottom: 10px;
    }
    .options button {
      width: 100%;
      background: #002233dd;
      border: none;
      padding: 12px 18px;
      color: #0ff;
      font-size: 1.05em;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
      text-align: left;
      user-select: none;
    }
    .options button:hover {
      background: #00ffffbb;
      color: #000;
    }
    #result {
      margin-top: 30px;
      padding: 18px 24px;
      background: #200000cc;
      border-radius: 14px;
      color: #ff6f61;
      font-size: 1.3em;
      line-height: 1.4em;
      box-shadow: 0 0 15px #ff6f61cc;
      display: none;
      user-select: text;
    }
    #result h3 {
      text-align: center;
      margin-bottom: 12px;
    }
    #result blockquote {
      margin-top: 12px;
      font-style: italic;
      color: #ffa899;
      border-left: 3px solid #ff6f61;
      padding-left: 10px;
    }
    .btn-center {
      text-align: center;
      margin-top: 24px;
    }
    .btn-center button {
      background: #ff6f61;
      color: #200000;
      padding: 12px 26px;
      font-size: 1.15em;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    .btn-center button:hover {
      background: #ff503f;
      color: white;
    }
    /* 打字机光标闪烁 */
    @keyframes blink {
      0%, 50%, 100% { border-color: transparent }
      25%, 75% { border-color: #ff6f61 }
    }
    #quote.typing {
      border-right: 3px solid #ff6f61;
      animation: blink 1s steps(1) infinite;
    }
  </style>
</head>
<body>
  <canvas id="fireworks"></canvas>
  <div class="container" role="main">
    <div class="lang-buttons" role="group" aria-label="Language switcher">
      <button id="btn-en" onclick="setLanguage('en')" aria-pressed="true">English</button>
      <button id="btn-zh" onclick="setLanguage('zh')" aria-pressed="false">中文</button>
      <button id="btn-fr" onclick="setLanguage('fr')" aria-pressed="false">Français</button>
    </div>

    <h1 id="title">
      Happy Birthday, Thomas Huang Junzheng! 
      <span aria-label="French flag" role="img">🇫🇷</span>
      <span aria-label="USA flag" role="img">🇺🇸</span>
    </h1>
    <div id="countdown" aria-live="polite" aria-atomic="true">Countdown: 0 day(s) to December 2nd 🎉</div>

    <p id="message">Wishing you a sky full of dreams, a mind full of ideas, and a heart full of joy — with a touch of 🇫🇷 and 🇺🇸 spirit!</p>

    <!-- 反乌托邦风格经典名言区 -->
    <div id="quote" aria-live="polite" aria-atomic="true"></div>

    <!-- 小游戏模块 -->
    <section id="quiz" aria-label="Historical Figure Quiz">
      <h2 id="quiz-title">Which American Historical Figure Are You?</h2>
      <div id="quiz-content"></div>
      <div class="btn-center">
        <button id="next-btn" disabled>Next</button>
      </div>
      <div id="result" role="region" aria-live="polite" aria-atomic="true"></div>
    </section>
  </div>

<script>
  // 烟花+断续电流风格动画
  const canvas = document.getElementById('fireworks');
  const ctx = canvas.getContext('2d');
  let w, h;
  let particles = [];

  function resizeCanvas() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  function random(min,max) {
    return Math.random()*(max-min)+min;
  }

  // 电流闪烁背景线
  function drawElectricLines(){
    const lineCount = 5;
    ctx.strokeStyle = '#0ff4';
    ctx.lineWidth = 1.2;
    for(let i=0; i<lineCount; i++){
      ctx.beginPath();
      let y = (h/lineCount)*i + random(-5,5);
      ctx.moveTo(0,y);
      for(let x=0; x<w; x+=20){
        let offsetY = Math.sin((x/10) + Date.now()/200 + i)*7 + random(-2,2);
        ctx.lineTo(x, y + offsetY);
      }
      ctx.stroke();
    }
  }

  function createFirework() {
    const x = random(0, w);
    const y = random(0, h/2);
    const count = 80;
    for(let i=0; i<count; i++){
      particles.push({
        x, y,
        vx: random(-3,3),
        vy: random(-3,3),
        alpha: 1,
        radius: random(1,3),
        color: `hsl(${Math.floor(random(0,360))}, 100%, 70%)`
      });
    }
  }

  function updateFireworks(){
    ctx.clearRect(0,0,w,h);
    drawElectricLines();
    particles.forEach((p,i)=>{
      p.x += p.vx;
      p.y += p.vy;
      p.alpha -= 0.01;
      if(p.alpha <= 0) particles.splice(i,1);
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.radius,0,Math.PI*2);
      ctx.fillStyle = p.color;
      ctx.globalAlpha = p.alpha;
      ctx.fill();
    });
    ctx.globalAlpha = 1;
  }

  function loop() {
    updateFireworks();
    requestAnimationFrame(loop);
  }
  setInterval(createFirework, 800);
  loop();

  // 倒计时显示
  let currentLang = 'en';
  const birthdayMonth = 11;
  const birthdayDay = 2;

  function updateCountdown() {
    let year = (new Date()).getFullYear();
    let birthday = new Date(year, birthdayMonth, birthdayDay);
    let now = new Date();
    if(now > birthday) birthday.setFullYear(year +1);
    let diff = birthday - now;
    let days = Math.floor(diff/(1000*60*60*24));
    let text = messages[currentLang].countdown.replace('X', days);
    document.getElementById('countdown').textContent = text;
  }
  setInterval(updateCountdown, 1000);
  updateCountdown();

  // 三语内容
  const messages = {
    en: {
      title: "Happy Birthday, Thomas Huang Junzheng!",
      message: "Wishing you a sky full of dreams, a mind full of ideas, and a heart full of joy — with a touch of 🇫🇷 and 🇺🇸 spirit!",
      countdown: "Countdown: X day(s) to December 2nd 🎉",
      quote: "“What’s done is done.”",
      quizTitle: "Which American Historical Figure Are You?",
      nextBtn: "Next",
      resultsTitle: "Your Historical Figure Result",
      restartBtn: "Retake Quiz"
    },
    zh: {
      title: "生日快乐，Thomas 黄钧正！",
      message: "愿你的天空充满梦想，头脑充满思想，内心充满欢喜——带着🇫🇷与🇺🇸的精神！",
      countdown: "倒计时：距离12月2日还有X天 🎉",
      quote: "“既成事实，无法改变。”",
      quizTitle: "你是哪位美国历史人物？",
      nextBtn: "下一题",
      resultsTitle: "你的历史人物测试结果",
      restartBtn: "重新测试"
    },
    fr: {
      title: "Joyeux Anniversaire, Thomas Huang Junzheng !",
      message: "Que ton ciel soit rempli de rêves, ton esprit d'idées, et ton cœur de joie — avec un soupçon d’esprit 🇫🇷 et 🇺🇸 !",
      countdown: "Compte à rebours : X jour(s) avant le 2 décembre 🎉",
      quote: "“Ce qui est fait est fait.”",
      quizTitle: "Quelle figure historique américaine êtes-vous ?",
      nextBtn: "Suivant",
      resultsTitle: "Votre résultat de figure historique",
      restartBtn: "Refaire le quiz"
    }
  };

  function setLanguage(lang) {
    currentLang = lang;
    // 更新按钮状态
    ['btn-en','btn-zh','btn-fr'].forEach(id=>{
      document.getElementById(id).setAttribute('aria-pressed', id === 'btn-'+lang ? 'true' : 'false');
    });

    document.getElementById('title').textContent = messages[lang].title + " ";
    // 添加旗帜emoji不破坏文本可选
    const flagsSpan = document.createElement('span');
    flagsSpan.setAttribute('aria-label','French flag');
    flagsSpan.setAttribute('role','img');
    flagsSpan.textContent = '🇫🇷';
    const flagsSpan2 = document.createElement('span');
    flagsSpan2.setAttribute('aria-label','USA flag');
    flagsSpan2.setAttribute('role','img');
    flagsSpan2.textContent = '🇺🇸';

    const title = document.getElementById('title');
    title.textContent = '';
    title.append(messages[lang].title);
    title.append(' ');
    title.appendChild(flagsSpan);
    title.appendChild(flagsSpan2);

    document.getElementById('message').textContent = messages[lang].message;
    document.getElementById('countdown').textContent = messages[lang].countdown.replace('X', '...');
    document.getElementById('quiz-title').textContent = messages[lang].quizTitle;
    document.getElementById('next-btn').textContent = messages[lang].nextBtn;
    document.getElementById('result').style.display = 'none';
    updateCountdown();
    restartQuiz();
    typeQuote(messages[lang].quote);
  }

  // 反乌托邦名言打字机效果
  let quoteIndex = 0;
  let quoteTextGlobal = '';
  let typingTimer;

  function typeQuote(text){
    clearTimeout(typingTimer);
    const quote = document.getElementById('quote');
    quote.textContent = '';
    quote.classList.add('typing');
    quoteTextGlobal = text;
    quoteIndex = 0;
    typeNext();
  }

  function typeNext(){
    const quote = document.getElementById('quote');
    if(quoteIndex < quoteTextGlobal.length){
      quote.textContent += quoteTextGlobal[quoteIndex];
      quoteIndex++;
      typingTimer = setTimeout(typeNext, 80);
    } else {
      quote.classList.remove('typing');
    }
  }

  // 游戏数据和逻辑
  // 扩展历史人物和问题，含美法彩蛋题
  const quizData = [
    {
      question: {
        en: "What value do you cherish most?",
        zh: "你最珍视的价值是什么？",
        fr: "Quelle valeur chérissez-vous le plus ?"
      },
      options: [
        { text: {en:"Freedom", zh:"自由", fr:"Liberté"}, points: {lincoln: [1]} },
        { text: {en:"Adventure", zh:"冒险", fr:"Aventure"}, points: {amelia: [1]} },
        { text: {en:"Leadership", zh:"领导力", fr:"Leadership"}, points: {napoleon: [1]} },
        { text: {en:"Creativity", zh:"创造力", fr:"Créativité"}, points: {dumas: [1]} }
      ]
    },
    {
      question: {
        en: "Which weapon would you choose in a debate?",
        zh: "在辩论中你会选择哪种“武器”？",
        fr: "Quelle arme choisiriez-vous dans un débat ?"
      },
      options: [
        { text: {en:"Logic", zh:"逻辑", fr:"Logique"}, points: {lincoln: [1]} },
        { text: {en:"Charisma", zh:"魅力", fr:"Charisme"}, points: {dumas: [1]} },
        { text: {en:"Strategy", zh:"策略", fr:"Stratégie"}, points: {napoleon: [1]} },
        { text: {en:"Courage", zh:"勇气", fr:"Courage"}, points: {amelia: [1]} }
      ]
    },
    // 法国彩蛋题
    {
      question: {
        en: "Who wrote 'Les Trois Mousquetaires' (The Three Musketeers)?",
        zh: "谁写了《三个火枪手》？",
        fr: "Qui a écrit « Les Trois Mousquetaires » ?"
      },
      options: [
        { text: {en:"Victor Hugo", zh:"维克多·雨果", fr:"Victor Hugo"}, points: {napoleon: [1]} },
        { text: {en:"Alexandre Dumas",
zh:"亚历山大·大仲马", fr:"Alexandre Dumas"}, points: {dumas: [1]} },
{ text: {en:"Marcel Proust", zh:"马塞尔·普鲁斯特", fr:"Marcel Proust"}, points: {amelia: [1]} }
]
},
// 美国彩蛋题
{
question: {
en: "Which famous American landmark is known as the 'Statue of Liberty'?",
zh: "哪个著名的美国地标被称为“自由女神像”？",
fr: "Quel monument américain célèbre est connu sous le nom de « Statue de la Liberté » ?"
},
options: [
{ text: {en:"Mount Rushmore", zh:"拉什莫尔山", fr:"Mont Rushmore"}, points: {lincoln: [1]} },
{ text: {en:"Statue of Liberty", zh:"自由女神像", fr:"Statue de la Liberté"}, points: {amelia: [1]} },
{ text: {en:"Golden Gate Bridge", zh:"金门大桥", fr:"Pont du Golden Gate"}, points: {napoleon: [1]} },
]
}
];
let currentQuestion = 0;
let answers = [];
function restartQuiz(){
currentQuestion = 0;
answers = [];
document.getElementById('next-btn').disabled = false;
document.getElementById('quiz-content').innerHTML = '';
renderQuestion();
}
function renderQuestion() {
const question = quizData[currentQuestion];
const questionElement = document.createElement('div');
questionElement.classList.add('question');
questionElement.innerHTML = <p>${question.question[currentLang]}</p> <ul class="options"> ${question.options.map((option, i) =>
<li><button onclick="selectOption(${i})">${option.text[currentLang]}</button></li>
).join('')} </ul> ;
document.getElementById('quiz-content').append(questionElement);
}
function selectOption(optionIndex){
const question = quizData[currentQuestion];
answers.push(question.options[optionIndex].points);
document.getElementById('next-btn').disabled = false;
}
function nextQuestion() {
if (currentQuestion < quizData.length - 1) {
currentQuestion++;
renderQuestion();
} else {
showResult();
}
}
function showResult() {
const resultElement = document.getElementById('result');
resultElement.style.display = 'block';
resultElement.innerHTML = <h3>You've completed the quiz!</h3> <p>Here's your result:</p> <blockquote> You are a true adventurer! </blockquote> <div class="btn-center"> <button onclick="restartQuiz()">Retake Quiz</button> </div> ;
}
document.getElementById('next-btn').onclick = nextQuestion;
setLanguage('en');
</script>
</body> </html> 
